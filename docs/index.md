---
organization: SvenTo
category: ["software development"]
icon_url: "/images/plugins/svento/cf.svg"
brand_color: "#a7cae1"
display_name: "Cloud Foundry"
short_name: "cf"
description: "Steampipe plugin to query apps, spaces and more from Cloud Foundry."
og_description: "Query Cloud Foundry with SQL! Open source CLI. No DB required."
og_image: "/images/plugins/svento/cf-social-graphic.png"
---

# Cloud Foundry + Steampipe

[Cloud Foundry](https://www.cloudfoundry.org/)  is an open source, multi-cloud application platform as a service (PaaS).

[Steampipe](https://steampipe.io) is an open source CLI to instantly query cloud APIs using SQL.

List apps in your Cloud Foundry account:

```sql
select
  a.name,
  a.state,
  s.name as space_name,
  o.name as org_name
from
  cf_app as a,
  cf_space as s,
  cf_org as o
where
  s.org_guid = o.guid and 
  a.space_guid = s.guid;
```

```
+--------------+---------+------------+---------------+
| name         | state   | space_name | org_name      |
+--------------+---------+------------+---------------+
| spring-music | STARTED | dev2       | sample_org    |
| spring-store | STOPPED | dev        | sample_org    |
+--------------+---------+------------+---------------+
```

## Documentation

- **[Table definitions & examples â†’](https://github.com/SvenTo/steampipe-plugin-cf/tree/main/docs/tables)**

## Get started

### Install

Download latest release from [GitHub](https://github.com/SvenTo/steampipe-plugin-cf/releases/).

Unzip and install the plugin:

```shell
gzip -d steampipe-plugin-cf_*.gz
chmod +x steampipe-plugin-cf_*
mkdir -p ~/.steampipe/plugins/hub.steampipe.io/plugins/svento/cf@latest/
mv steampipe-plugin-cf_* ~/.steampipe/plugins/hub.steampipe.io/plugins/svento/cf@latest/steampipe-plugin-cf.plugin
# download default config:
wget -O ~/.steampipe/config/cf.spc https://raw.githubusercontent.com/SvenTo/steampipe-plugin-cf/main/config/cf.spc
```

### Credentials

| Item        | Description                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| ----------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| Credentials | Use the `cf login` command to setup your Cloud Foundry Connection or explicitly configure credentials in the Steampipe config file.                                                                                                                                                                                                                                                                                                                                                                                         |
| Permissions | The results depends on the given [permissions](https://docs.cloudfoundry.org/concepts/roles.html#permissions) of your Cloud Foundry user. You will only see the spaces and orgs you have access to unless you have the *Admin (Read-only)* or *Global Auditor* roles. A detailed documentation about the permissions can be found in the [CF documentation](https://docs.cloudfoundry.org/concepts/roles.html#permissions).                                                                                                 |
| Radius      | Each connection represents the view of a single Cloud Foundry user.                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| Resolution  | 1. Credentials explicitly set in a Steampipe config file (`~/.steampipe/config/cf.spc`).<br />2. Credentials from the ``.cf/config.json`` in the directory specified by the ``cf_home_dir`` parameter.<br />3. Credentials specified from the ``config.json`` located in the ``~/.cf`` directory. You can relocate the ``.cf/config.json`` file using the ``CF_HOME`` environment variable. This file will be generated by the [``cf login`` CLI command](https://docs.cloudfoundry.org/cf-cli/getting-started.html#login). |

### Configuration

Installing the latest cf plugin will create a config file (`~/.steampipe/config/cf.spc`) with a single connection named `cf`:

```hcl
connection "cf" {
  plugin      = "cf"
}
```

This will create a `cf` connection that uses the [Cloud Foundry CLI configuration](https://docs.cloudfoundry.org/cf-cli/) file from default config directory (typically ``~/.cf/config.json`` on *nix systems). Depending on your configuration, you may need to be [logged in](https://docs.cloudfoundry.org/cf-cli/getting-started.html#login) with the CF CLI. Use [``cf login``](https://docs.cloudfoundry.org/cf-cli/getting-started.html#login) if you get the error ``(CF-InvalidAuthToken|1000): Invalid Auth Token``.

## Advanced configuration options

You don't need to install the [Cloud Foundry CLI configuration](https://docs.cloudfoundry.org/cf-cli/) to login to your Cloud Foundry API. You can also define credentials directly in the Steampipe config file.

You can also specify the path to a configuration file.

### Explicit credentials in Steampipe config file

```hcl
connection "cf" {
  plugin = "hub.steampipe.io/plugins/svento/cf@latest"

  # Use credentials explicitly set in a Steampipe config file by setting the option:
  api_url = "https://api.cf.example.com"
  # 
  # and either one of the following authentication mechanism:
  # 
  # 3.1. with username and password:
  # username = "user@example.com"
  # password = "example"

  # 3.2. with client_id / client_secret:
  # client_id = "myclientid"
  # client_secret = "38df0e66e4904a75ac951720e4b9df02"

  # 3.3. auth_token:
  # auth_token = "ey[...]"
}
```

### Define path to configuration file

```hcl
connection "cf" {
  plugin = "hub.steampipe.io/plugins/svento/cf@latest"

  # Use credentials from the .cf/config.json in the directory specified by the ``cf_home_dir`` parameter:
  cf_home_dir         = "/path/to/my/cf/home/directory"
}
```

### Miscellaneous options

*  ``skip_ssl_validation``: Disable TLS validation (not recommended)
*  ``user_agent``: Set a custom user agent

## Get involved

- Open source: https://github.com/svento/steampipe-plugin-cf
- Community: [Slack Channel](https://join.slack.com/t/steampipe/shared_invite/zt-oij778tv-lYyRTWOTMQYBVAbtPSWs3g)
